{"ast":null,"code":"import React,{useRef,useEffect}from'react';import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;//Реф для прямого доступа к DOM-элементу инпута и его значению\nvar avatarRef=useRef('');//Очистка поля ввода ссылки после закрытия\nuseEffect(function(){avatarRef.current.value='';},[isOpen]);//Обработчик сабмита формы (обновление аватарки)\nfunction handleSubmit(event){event.preventDefault();onUpdateAvatar({avatar:avatarRef.current.value});}return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:isOpen,onClose:onClose,title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"edit-avatar\",buttonName:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__name popup__input\",type:\"url\",name:\"avatar\",required:true,placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\",ref:avatarRef}),/*#__PURE__*/_jsx(\"span\",{id:\"avatar-error\",className:\"error\"})]});}export default EditAvatarPopup;","map":{"version":3,"sources":["/Users/artem/Desktop/dev/react-mesto-auth/src/components/EditAvatarPopup.js"],"names":["React","useRef","useEffect","PopupWithForm","EditAvatarPopup","isOpen","onClose","onUpdateAvatar","avatarRef","current","value","handleSubmit","event","preventDefault","avatar"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,eAAT,MAA8D,IAAnCC,CAAAA,MAAmC,MAAnCA,MAAmC,CAA3BC,OAA2B,MAA3BA,OAA2B,CAAlBC,cAAkB,MAAlBA,cAAkB,CAC5D;AACA,GAAMC,CAAAA,SAAS,CAAGP,MAAM,CAAC,EAAD,CAAxB,CAEA;AACAC,SAAS,CAAC,UAAM,CACdM,SAAS,CAACC,OAAV,CAAkBC,KAAlB,CAA0B,EAA1B,CACD,CAFQ,CAEN,CAACL,MAAD,CAFM,CAAT,CAIA;AACA,QAASM,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GAEAN,cAAc,CAAC,CACbO,MAAM,CAAEN,SAAS,CAACC,OAAV,CAAkBC,KADb,CAAD,CAAd,CAGD,CAED,mBACE,MAAC,aAAD,EACE,MAAM,CAAEL,MADV,CAEE,OAAO,CAAEC,OAFX,CAGE,KAAK,CAAC,uFAHR,CAIE,IAAI,CAAC,aAJP,CAKE,UAAU,CAAC,wDALb,CAME,QAAQ,CAAEK,YANZ,wBAQE,cACE,SAAS,CAAC,0BADZ,CAEE,IAAI,CAAC,KAFP,CAGE,IAAI,CAAC,QAHP,CAIE,QAAQ,KAJV,CAKE,WAAW,CAAC,gHALd,CAME,GAAG,CAAEH,SANP,EARF,cAgBE,aACE,EAAE,CAAC,cADL,CAEE,SAAS,CAAC,OAFZ,EAhBF,GADF,CAwBD,CAED,cAAeJ,CAAAA,eAAf","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  //Реф для прямого доступа к DOM-элементу инпута и его значению\n  const avatarRef = useRef('');\n\n  //Очистка поля ввода ссылки после закрытия\n  useEffect(() => {\n    avatarRef.current.value = '';\n  }, [isOpen])\n\n  //Обработчик сабмита формы (обновление аватарки)\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Обновить аватар\"\n      name=\"edit-avatar\"\n      buttonName=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__name popup__input\"\n        type=\"url\"\n        name=\"avatar\"\n        required\n        placeholder=\"Ссылка на фотографию\"\n        ref={avatarRef}\n      />\n      <span\n        id=\"avatar-error\"\n        className=\"error\"\n      >\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n"]},"metadata":{},"sourceType":"module"}